# java-restful-spring-workshop
Sample Restful microservice developed with OpenAPI and Spring in Java. Base repository for a workshop in the 2023 edition of the CONITI Congress. 

If you want to relive the session again, follow the [Workshop docs](/workshop-docs) (in Spanish).

## Sample Contacts Microservice

In this folder, `/java-restful-spring-workshop`, there is a parent Maven Project, along with 4 children:

* [contacts-service-parent](/)
    * [contacts-api](contacts-api)
      Defines the RestFUL contract and DTOs (Data Transfer Objects) used to communicate with the Contacts Service.
    * [contacts-client](contacts-client)
      Defines a Feign client to easily communicate with the Contacts Service for Java Developers.
    * [contacts-client-spring-boot-starter](contacts-client-spring-boot-starter)
      Defines a ready-to-use Feign client for Java Developers using Spring Boot.
    * [contacts-service](contacts-service)
      The actual microservice.

## Local Development

### Prerequisites

* **Open JDK 17**

  You can install any version, i.e. [Amazon Coretto](https://docs.aws.amazon.com/corretto/latest/corretto-17-ug/downloads-list.html).

* **Maven**

  You can use the embedded Maven binaries that your IDE offers, or you can install your own one.

### Building all the components

We use Maven as our build tool. Here is the [Maven Build Lifecycle](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html) for reference.

Maven goals commonly used in this project:

| Goals                               | Description                                                                                                                                                                                |
|-------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `clean`                             | Removes all files generated by the previous build. Recommended to run first, before any build goal.                                                                                        |
| `versions:display-property-updates` | Scans the project and produces a report of those properties which are used to control artifact versions and which properties have newer versions available. Recommended to run standalone. |
| `compile`                           | Build goal to compile source code.                                                                                                                                                         |
| `test`                              | `compile` plus compile and run tests.                                                                                                                                                      |
| `package`                           | `test` plus package compiled code into a jar.                                                                                                                                              |
| `install`                           | `package` plus install in local maven repo for other local projects to reuse.                                                                                                              |

Sample maven command goal runs:

* `mvn clean compile`
* `mvn clean test`
* `mvn clean package`
* `mvn clean install`
* `mvn versions:display-property-updates`

Open [java-restful-spring-workshop](/) and run `mvn clean package`. This should build the all the necessary artifacts to run and consume this microservice.
In this sample, we have a RESTFul microservice that accepts JSON payload.

### Starting the Application

#### Locally

* Run 
```shell
java -jar contacts-service/target/ContactsService.jar
```

* Local swagger URL is available at [localhost:8080/swagger-ui.html](http://localhost:8080/swagger-ui.html)
